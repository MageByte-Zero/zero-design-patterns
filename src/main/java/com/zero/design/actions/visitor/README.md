# 访问者模式【Visitor Pattern】
## 一、概述
访问者模式是一种较为复杂的行为型设计模式，它包含访问者和被访问元素两个主要组成部分，这些被访问的元素通常具有不同的类型，且不同的访问

者可以对它们进行不同的访问操作。在使用访问者模式时，被访问元素通常不是单独存在的，它们存储在一个集合中，这个集合被称为“对象结构”，访

问者通过遍历对象结构实现对其中存储的元素的逐个操作。访问者模式是一种对象行为型模式。

## 二、使用场景
   当有多种类型的访问者(或是操作者) 对一组被访问者对象集合（或是对象结构）进行操作（其中对象集合也包含多种类型对象），不同的访问者类型对每一

种具体的被访问者对象提供不同的访问操作，每种访问者类型对象对不同的被访问者也有不同的访问操作，那么这种场景就非常适用访问者模式。

举一个生活中的业务场景：

   你所在的公司每个月人力资源部要对所有员工进行上班时长、加班时长统计，而财务部要对所有员工进行工资核算，不同职位的员工薪资核算标准肯定不一

样啊，这个大家都明白。在这个案例中人力资源部和财务部是两个不同类型的部门（访问者），所有员工（被访问者）是一个对象集合，而员工又划分为管

理者和技术者两种类型（备注：这里小吕只是简单划分为两类），在每月的统计中，人力资源部需要分别对员工进行上班时长和加班时长进行统计，而财务

部需要对不同职位的员工进行薪资核算，可见不同部门职责不同，及对员工的访问操作不同、每个部门对不同类型的员工的访问操作也不同。那么针对这种

场景  我们有必要了解一下访问者模式。

## 三、角色
四、参与者
* 1>、Visitor(抽象访问者)：为每种具体的访问者(ConcreteElement)声明一个访问操作;
* 2>、ConcreteVisitor(具体访问者)：实现对被访问者(ConcreteElement)的具体访问操作;
* 3>、Element(抽象被访问者)：通常有一个Accept方法，用来接收/引用一个抽象访问者对象;
* 4>、ConcreteElement(具体被访问者对象)：实现Accept抽象方法，通过传入的具体访问者参数、调用具体访问者对该对象的访问操作方法实现访问逻辑;
* 5>、Clent、ObjectStructure(客户端访问过程测试环境)：该过程中，被访问者通常为一个集合对象，通过对集合的遍历完成访问者对每一个被访问元素的访问操作;
